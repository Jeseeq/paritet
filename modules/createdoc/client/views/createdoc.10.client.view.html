<section ui-view>

  <div class="page-header">
    <h1>
      {{data.title}}
    </h1>
  </div>
  <div class="row">
    <div class="col-md-6">
      <uib-accordion close-others="false">
        <uib-accordion-group heading="{{data.questions[0].title}}" is-open="isOpen"  template-url="accordion-group.html"  popover-placement="left" uib-popover="Виберіть один із пунктів" popover-trigger = 'none' popover-is-open = "!data.questions[0].selected">
          <div class="radio" ng-repeat="answer in data.questions[0].answers">
            <label><input type="radio" name="{{data.questions[0].id}}" value="{{answer.id}}" ng-model="data.questions[0].selected"  ng-click = "openModal()">{{answer.content}}</label>
           </div>
        </uib-accordion-group>
      </uib-accordion>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 question">
      <uib-accordion close-others="false">
        <uib-accordion-group heading="{{data.questions[1].title}}"  is-open="isOpen"  template-url="accordion-group.html">
          <div class="radio" ng-repeat="answer in data.questions[1].answers"  ng-init="data.questions[1].selected = 1">
            <label><input type="radio" name="{{data.questions[1].id}}" value="{{answer.id}}" ng-model="data.questions[1].selected">{{answer.content}}</label>
           </div>
        </uib-accordion-group>
      </uib-accordion>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 question" >
      <uib-accordion close-others="false">
        <uib-accordion-group heading="{{data.questions[2].title}}"  is-open="isOpen"  template-url="accordion-group.html">
          <div class="radio" ng-repeat="answer in data.questions[2].answers"  ng-init="data.questions[2].selected = 1">
            <label><input type="radio" name="{{data.questions[2].id}}" value="{{answer.id}}" ng-model="data.questions[2].selected">{{answer.content}}</label>
          </div>
        </uib-accordion-group>
      </uib-accordion>
    </div>
  </div>
  <div class="row my-animation" ng-if="data.questions[2].selected !== '2'">
    <div class="col-md-6 question" >
      <uib-accordion close-others="false">
        <uib-accordion-group heading="{{data.questions[3].title}}"  is-open="isOpen"  template-url="accordion-group.html" >
          <div class="radio" ng-repeat="answer in data.questions[3].answers"  ng-init="data.questions[3].selected = 1">
            <label><input type="radio" name="{{data.questions[3].id}}" value="{{answer.id}}" ng-model="data.questions[3].selected">{{answer.content}}</label>
          </div>
        </uib-accordion-group>
      </uib-accordion>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 question">
      <uib-accordion close-others="false">
        <uib-accordion-group heading="{{data.questions[4].title}}"  is-open="isOpen"  template-url="accordion-group.html" >
          <div class="radio" ng-repeat="answer in data.questions[4].answers"  ng-init="data.questions[4].selected = 1">
            <label><input type="radio" name="{{data.questions[4].id}}" value="{{answer.id}}" ng-model="data.questions[4].selected">{{answer.content}}</label>
          </div>
        </uib-accordion-group>
      </uib-accordion>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 question">
      <uib-accordion close-others="false">
        <uib-accordion-group heading="{{data.questions[5].title}}"  is-open="isOpen"  template-url="accordion-group.html">
          <div class="radio" ng-repeat="answer in data.questions[5].answers"  ng-init="data.questions[4].selected = 1">
            <label><input type="radio" name="{{data.questions[5].id}}" value="{{answer.id}}" ng-model="data.questions[5].selected">{{answer.content}}</label>
          </div>
        </uib-accordion-group>
      </uib-accordion>
    </div>
  </div>


  <script type="text/ng-template" id="myModalContent.html">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" ng-click="cancelAndReset()" aria-hidden="true">&times;</button>
      <h4 class="modal-title">Заповніть дані</h4>
    </div>
    <div class="modal-body">
      <form class="form-horizontal sky-form">
        <fieldset>
        <formly-form model="vm.person" fields="vm.YurPersonFields" form="vm.YurPersonForm" options="vm.options">
        </formly-form>
        </fieldset>
      </form>
    </div>
    <div class="modal-footer">
      <button class="btn-u" type="button" ng-click="close()">Сохранить</button>
      <button class="btn-u btn-u-default" type="button" ng-click="cancelAndReset()" >Выход</button>
    </div>
  </script>


  <script type="text/ng-template" id="accordion-group.html">
  <div class="panel {{panelClass || 'panel-default'}}">
    <div class="abc panel-heading" ng-keypress="toggleOpen($event)" ng-click="toggleOpen()" >
      <h4 class="panel-title">
        <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading"><span ng-class="{'text-muted': isDisabled}">{{heading}}</span></a>
      </h4>
    </div>
    <div class="panel-collapse collapse" uib-collapse="!isOpen">
      <div class="panel-body" ng-transclude></div>
    </div>
  </div>
  </script>


  <pre>{{person | json}}</pre>
  <pre>{{authentication | json}}</pre>
  <pre>{{data | json}}</pre>

</section>

